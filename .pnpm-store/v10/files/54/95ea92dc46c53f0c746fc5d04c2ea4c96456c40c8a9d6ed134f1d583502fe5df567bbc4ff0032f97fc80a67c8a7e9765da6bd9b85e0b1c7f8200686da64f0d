{"version":3,"file":"usePopupVisibility.js","sourceRoot":"../../../../../src","sources":["components/DropdownMenu/hooks/usePopupVisibility.ts"],"names":[],"mappings":";;AAIA,gDAyCC;;AA7CD,qDAA+B;AAE/B,6DAAuE;AAEvE,SAAgB,kBAAkB,CAC9B,OAAiB,EACjB,kBAEkC,EAClC,QAAkB;IAElB,MAAM,CAAC,YAAY,EAAE,aAAa,CAAC,GAAG,IAAA,yCAA+B,EACjE,OAAO,EACP,kBAAkB,EAClB,KAAK,CACR,CAAC;IAEF,MAAM,WAAW,GAAG,KAAK,CAAC,WAAW,CACjC,CAAC,IAAc,EAAE,EAAE;QACf,aAAa,CAAC,CAAC,OAAO,EAAE,EAAE;YACtB,IAAI,OAAO,IAAI,KAAK,SAAS,EAAE,CAAC;gBAC5B,OAAO,IAAI,CAAC;YAChB,CAAC;YAED,OAAO,CAAC,OAAO,CAAC;QACpB,CAAC,CAAC,CAAC;IACP,CAAC,EACD,CAAC,aAAa,CAAC,CAClB,CAAC;IAEF,MAAM,UAAU,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;QACtC,aAAa,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;IAEpB,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACjB,IAAI,QAAQ,IAAI,YAAY,EAAE,CAAC;YAC3B,UAAU,EAAE,CAAC;QACjB,CAAC;IACL,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,EAAE,YAAY,CAAC,CAAC,CAAC;IAEzC,OAAO;QACH,YAAY;QACZ,WAAW;QACX,UAAU;KACb,CAAC;AACN,CAAC","sourcesContent":["import * as React from 'react';\n\nimport {useConditionallyControlledState} from '../../../hooks/private';\n\nexport function usePopupVisibility(\n    visible?: boolean,\n    onChangeVisibility?:\n        | React.Dispatch<React.SetStateAction<boolean>>\n        | ((visible: boolean) => void),\n    disabled?: boolean,\n) {\n    const [isPopupShown, setPopupShown] = useConditionallyControlledState<boolean>(\n        visible,\n        onChangeVisibility,\n        false,\n    );\n\n    const togglePopup = React.useCallback(\n        (open?: boolean) => {\n            setPopupShown((isShown) => {\n                if (typeof open === 'boolean') {\n                    return open;\n                }\n\n                return !isShown;\n            });\n        },\n        [setPopupShown],\n    );\n\n    const closePopup = React.useCallback(() => {\n        setPopupShown(false);\n    }, [setPopupShown]);\n\n    React.useEffect(() => {\n        if (disabled && isPopupShown) {\n            closePopup();\n        }\n    }, [closePopup, disabled, isPopupShown]);\n\n    return {\n        isPopupShown,\n        togglePopup,\n        closePopup,\n    };\n}\n"]}