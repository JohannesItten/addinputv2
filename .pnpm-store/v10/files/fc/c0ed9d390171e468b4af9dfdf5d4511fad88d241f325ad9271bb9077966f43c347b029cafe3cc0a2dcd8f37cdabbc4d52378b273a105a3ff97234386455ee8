{"version":3,"file":"utils.js","sourceRoot":"../../../../src","sources":["components/Pagination/utils.ts"],"names":[],"mappings":"AAAA,OAAO,IAAI,uBAAoB;AAI/B,MAAM,UAAU,iBAAiB,CAAC,EAC9B,IAAI,EACJ,aAAa,EACb,MAAM,GAKT;IACG,OAAO,MAAM;QACT,CAAC,CAAC,uBAAuB,CAAC,IAAI,EAAE,aAAa,CAAC;QAC9C,CAAC,CAAC,wBAAwB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;AACxD,CAAC;AAED,SAAS,uBAAuB,CAAC,IAAY,EAAE,aAAqB;IAChE,MAAM,IAAI,GAA6B,CAAC,IAAI,EAAE,QAAQ,EAAE,aAAa,CAAC,CAAC;IACvE,OAAO,IAAI,CAAC;AAChB,CAAC;AAED,SAAS,wBAAwB,CAAC,IAAY,EAAE,aAAqB;IACjE,MAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IACvC,IAAI,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,aAAa,CAAC,CAAC;IAElD,MAAM,IAAI,GAA+B,CAAC,QAAQ,EAAE,IAAI,EAAE,SAAS,CAAC,CAAC;IAErE,IAAI,IAAI,KAAK,CAAC,EAAE,CAAC;QACb,SAAS,GAAG,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,CAAC,EAAE,aAAa,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACzB,CAAC;IAED,IAAI,aAAa,GAAG,SAAS,IAAI,CAAC,EAAE,CAAC;QACjC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC1B,CAAC;IAED,IAAI,aAAa,GAAG,IAAI,KAAK,CAAC,EAAE,CAAC;QAC7B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,IAAI,IAAI,KAAK,aAAa,EAAE,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;IAEzB,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC;AACtB,CAAC;AAED,MAAM,UAAU,gBAAgB,CAAC,QAAgB,EAAE,KAAK,GAAG,CAAC;IACxD,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,GAAG,CAAC,CAAC;AAClD,CAAC;AAED,MAAM,UAAU,cAAc,CAAC,KAAyB;IACpD,OAAO,KAAK,KAAK,SAAS,IAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACxD,CAAC;AAED,MAAM,UAAU,OAAO,CAAC,EACpB,QAAQ,EACR,MAAM,GAIT;IACG,IAAI,QAAQ,EAAE,CAAC;QACX,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,OAAO,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AAC9B,CAAC;AAED,MAAM,UAAU,aAAa,CAAC,EAC1B,IAAI,EACJ,KAAK,EACL,QAAQ,GAKX;IACG,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,KAAK,SAAS,IAAI,IAAI,IAAI,gBAAgB,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;QACjF,CAAC,CAAC,IAAI;QACN,CAAC,CAAC,CAAC,CAAC;AACZ,CAAC","sourcesContent":["import uniq from 'lodash/uniq';\n\nimport type {PaginationSize} from './types';\n\nexport function getNumerationList({\n    page,\n    numberOfPages,\n    mobile,\n}: {\n    page: number;\n    numberOfPages: number;\n    mobile: boolean;\n}) {\n    return mobile\n        ? getMobileNumerationList(page, numberOfPages)\n        : getDesktopNumerationList(page, numberOfPages);\n}\n\nfunction getMobileNumerationList(page: number, numberOfPages: number) {\n    const list: Array<number | 'pageOf'> = [page, 'pageOf', numberOfPages];\n    return list;\n}\n\nfunction getDesktopNumerationList(page: number, numberOfPages: number) {\n    const prevPage = Math.max(page - 1, 1);\n    let rightPage = Math.min(page + 1, numberOfPages);\n\n    const list: Array<number | 'ellipsis'> = [prevPage, page, rightPage];\n\n    if (page === 1) {\n        rightPage = Math.min(rightPage + 1, numberOfPages);\n        list.push(rightPage);\n    }\n\n    if (numberOfPages - rightPage >= 2) {\n        list.push('ellipsis');\n    }\n\n    if (numberOfPages - page === 1) {\n        list.unshift(Math.max(page - 2, 1));\n    }\n\n    if (page === numberOfPages) {\n        list.unshift(Math.max(page - 2, 1));\n        list.unshift(Math.max(page - 3, 1));\n    }\n\n    list.push(numberOfPages);\n\n    return uniq(list);\n}\n\nexport function getNumberOfPages(pageSize: number, total = 0) {\n    return Math.floor((total - 1) / pageSize) + 1;\n}\n\nexport function getResultTotal(total: number | undefined) {\n    return total === undefined || total > 0 ? total : 1;\n}\n\nexport function getSize({\n    propSize,\n    mobile,\n}: {\n    propSize?: PaginationSize;\n    mobile: boolean;\n}): PaginationSize {\n    if (propSize) {\n        return propSize;\n    }\n\n    return mobile ? 'l' : 'm';\n}\n\nexport function getResultPage({\n    page,\n    total,\n    pageSize,\n}: {\n    page: number;\n    total: number | undefined;\n    pageSize: number;\n}) {\n    return page > 0 && (total === undefined || page <= getNumberOfPages(pageSize, total))\n        ? page\n        : 1;\n}\n"]}