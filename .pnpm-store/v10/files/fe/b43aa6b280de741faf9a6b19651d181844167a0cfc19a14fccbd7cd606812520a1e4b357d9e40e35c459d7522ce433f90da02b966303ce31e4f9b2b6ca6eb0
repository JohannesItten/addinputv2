{"version":3,"file":"PaginationInput.js","sourceRoot":"../../../../../../src","sources":["components/Pagination/components/PaginationInput/PaginationInput.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;AAEb,qDAA+B;AAE/B,wDAA8C;AAC9C,yDAA4C;AAE5C,6CAAwC;AACxC,kDAA6C;AAC7C,uEAA8B;AAG9B,iCAAgC;AAEhC,MAAM,CAAC,GAAG,IAAA,UAAK,EAAC,kBAAkB,CAAC,CAAC;AAU7B,MAAM,eAAe,GAAG,CAAC,EAAC,aAAa,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAQ,EAAE,EAAE;IAC3F,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;IAE7C,MAAM,iBAAiB,GAAG,CAAC,UAAkB,EAAE,EAAE;QAC7C,IAAI,UAAU,KAAK,EAAE,IAAI,eAAe,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC;YACxD,QAAQ,CAAC,UAAU,CAAC,CAAC;QACzB,CAAC;IACL,CAAC,CAAC;IAEF,MAAM,YAAY,GAAG,CAAC,UAAkB,EAAE,EAAE;QACxC,IAAI,CAAC,UAAU,EAAE,CAAC;YACd,OAAO;QACX,CAAC;QACD,IAAI,QAAQ,GAAG,MAAM,CAAC,UAAU,CAAC,CAAC;QAClC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,EAAE,CAAC;YAC9B,QAAQ,CAAC,EAAE,CAAC,CAAC;YACb,OAAO;QACX,CAAC;QAED,MAAM,aAAa,GAAG,aAAa,GAAG,CAAC,CAAC;QAExC,IAAI,QAAQ,GAAG,aAAa,EAAE,CAAC;YAC3B,QAAQ,GAAG,aAAa,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,QAAQ,CAAC;QACxD,CAAC;aAAM,IAAI,QAAQ,GAAG,CAAC,EAAE,CAAC;YACtB,QAAQ,GAAG,CAAC,CAAC;QACjB,CAAC;QAED,QAAQ,CAAC,EAAE,CAAC,CAAC;QACb,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IACjC,CAAC,CAAC;IAEF,MAAM,UAAU,GAA6B,CAAC,KAAK,EAAE,EAAE,CAAC,YAAY,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAEhG,MAAM,WAAW,GAA8B,CAAC,KAAK,EAAE,EAAE;QACrD,IAAI,KAAK,CAAC,GAAG,KAAK,mBAAO,CAAC,KAAK,EAAE,CAAC;YAC9B,YAAY,CAAC,KAAK,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC5C,CAAC;IACL,CAAC,CAAC;IAEF,OAAO,CACH,uBAAC,oBAAS,IACN,SAAS,EAAE,CAAC,CAAC,EAAC,IAAI,EAAC,EAAE,SAAS,CAAC,EAC/B,WAAW,EAAE,IAAA,cAAI,EAAC,yBAAyB,CAAC,EAC5C,IAAI,EAAE,IAAI,EACV,KAAK,EAAE,KAAK,EACZ,QAAQ,EAAE,iBAAiB,EAC3B,MAAM,EAAE,UAAU,EAClB,OAAO,EAAE,WAAW,EACpB,EAAE,EAAE,wBAAY,CAAC,eAAe,GAClC,CACL,CAAC;AACN,CAAC,CAAC;AAnDW,QAAA,eAAe,mBAmD1B","sourcesContent":["'use client';\n\nimport * as React from 'react';\n\nimport {KeyCode} from '../../../../constants';\nimport {TextInput} from '../../../controls';\nimport type {TextInputProps} from '../../../controls';\nimport {block} from '../../../utils/cn';\nimport {PaginationQa} from '../../constants';\nimport i18n from '../../i18n';\nimport type {PaginationProps, PaginationSize} from '../../types';\n\nimport './PaginationInput.scss';\n\nconst b = block('pagination-input');\n\ntype Props = {\n    numberOfPages: number;\n    onUpdate: NonNullable<PaginationProps['onUpdate']>;\n    pageSize: NonNullable<PaginationProps['pageSize']>;\n    size: PaginationSize;\n    className?: string;\n};\n\nexport const PaginationInput = ({numberOfPages, size, pageSize, onUpdate, className}: Props) => {\n    const [value, setValue] = React.useState('');\n\n    const handleUpdateValue = (inputValue: string) => {\n        if (inputValue === '' || /^[1-9][0-9]*$/.test(inputValue)) {\n            setValue(inputValue);\n        }\n    };\n\n    const handleUpdate = (inputValue: string) => {\n        if (!inputValue) {\n            return;\n        }\n        let numValue = Number(inputValue);\n        if (!Number.isInteger(numValue)) {\n            setValue('');\n            return;\n        }\n\n        const hasUpperLimit = numberOfPages > 0;\n\n        if (numValue > numberOfPages) {\n            numValue = hasUpperLimit ? numberOfPages : numValue;\n        } else if (numValue < 1) {\n            numValue = 1;\n        }\n\n        setValue('');\n        onUpdate(numValue, pageSize);\n    };\n\n    const handleBlur: TextInputProps['onBlur'] = (event) => handleUpdate(event.currentTarget.value);\n\n    const handleKeyUp: TextInputProps['onKeyUp'] = (event) => {\n        if (event.key === KeyCode.ENTER) {\n            handleUpdate(event.currentTarget.value);\n        }\n    };\n\n    return (\n        <TextInput\n            className={b({size}, className)}\n            placeholder={i18n('label_input-placeholder')}\n            size={size}\n            value={value}\n            onUpdate={handleUpdateValue}\n            onBlur={handleBlur}\n            onKeyUp={handleKeyUp}\n            qa={PaginationQa.PaginationInput}\n        />\n    );\n};\n"]}