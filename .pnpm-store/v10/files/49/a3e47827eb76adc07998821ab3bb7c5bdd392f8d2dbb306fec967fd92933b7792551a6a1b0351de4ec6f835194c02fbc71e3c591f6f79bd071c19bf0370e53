{"version":3,"file":"AvatarImage.js","sourceRoot":"../../../../../src","sources":["components/Avatar/AvatarImage/AvatarImage.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAE/B,OAAO,EAAC,YAAY,EAAE,OAAO,EAAC,wBAAqB;AAInD,MAAM,CAAC,MAAM,WAAW,GAAG,CAAC,EACxB,MAAM,EACN,cAAc,EACd,KAAK,EACL,MAAM,EACN,GAAG,EACH,OAAO,EACP,eAAe,EACf,IAAI,GACW,EAAE,EAAE;IACnB,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IAExD,MAAM,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,GAAG,EAAE;QACvC,YAAY,CAAC,IAAI,CAAC,CAAC;IACvB,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,wDAAwD;IACxD,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACjB,YAAY,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IAEb,OAAO,CACH,cACI,SAAS,EAAE,OAAO,CAAC,OAAO,EAAE,EAAC,aAAa,EAAE,eAAe,EAAC,CAAC,EAC7D,OAAO,EAAE,OAAO,EAChB,KAAK,EAAE,YAAY,CAAC,IAAI,CAAC,EACzB,MAAM,EAAE,YAAY,CAAC,IAAI,CAAC,EAC1B,GAAG,EAAE,cAAc,IAAI,SAAS,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,MAAM,EAC1D,KAAK,EAAE,KAAK,EACZ,MAAM,EAAE,MAAM,EACd,GAAG,EAAE,GAAG,EACR,OAAO,EAAE,WAAW,GACtB,CACL,CAAC;AACN,CAAC,CAAC","sourcesContent":["'use client';\n\nimport * as React from 'react';\n\nimport {AVATAR_SIZES, bAvatar} from '../constants';\n\nimport type {AvatarImageProps} from './types';\n\nexport const AvatarImage = ({\n    imgUrl,\n    fallbackImgUrl,\n    sizes,\n    srcSet,\n    alt,\n    loading,\n    withImageBorder,\n    size,\n}: AvatarImageProps) => {\n    const [isErrored, setIsErrored] = React.useState(false);\n\n    const handleError = React.useCallback(() => {\n        setIsErrored(true);\n    }, []);\n\n    // Reset error if `imgUrl` was changed to check it again\n    React.useEffect(() => {\n        setIsErrored(false);\n    }, [imgUrl]);\n\n    return (\n        <img\n            className={bAvatar('image', {'with-border': withImageBorder})}\n            loading={loading}\n            width={AVATAR_SIZES[size]}\n            height={AVATAR_SIZES[size]}\n            src={fallbackImgUrl && isErrored ? fallbackImgUrl : imgUrl}\n            sizes={sizes}\n            srcSet={srcSet}\n            alt={alt}\n            onError={handleError}\n        />\n    );\n};\n"]}