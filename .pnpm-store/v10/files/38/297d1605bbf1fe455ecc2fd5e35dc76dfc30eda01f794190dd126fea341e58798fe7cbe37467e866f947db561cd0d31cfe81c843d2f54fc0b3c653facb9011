{"version":3,"file":"index.js","sourceRoot":"../../../../../src","sources":["hooks/private/useFormResetHandler/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAI/B,MAAM,UAAU,mBAAmB,CAAI,EACnC,YAAY,EACZ,OAAO,GAIV;IACG,MAAM,CAAC,WAAW,EAAE,cAAc,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAyB,IAAI,CAAC,CAAC;IAEnF,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;IAE9C,KAAK,CAAC,SAAS,CAAC,GAAG,EAAE;QACjB,IAAI,CAAC,WAAW,EAAE,CAAC;YACf,OAAO,SAAS,CAAC;QACrB,CAAC;QAED,MAAM,WAAW,GAAG,GAAG,EAAE;YACrB,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;QAChC,CAAC,CAAC;QAEF,WAAW,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QACnD,OAAO,GAAG,EAAE;YACR,WAAW,CAAC,mBAAmB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;QAC1D,CAAC,CAAC;IACN,CAAC,EAAE,CAAC,WAAW,EAAE,OAAO,CAAC,CAAC,CAAC;IAE3B,MAAM,GAAG,GAAG,KAAK,CAAC,WAAW,CAAC,CAAC,IAAsC,EAAE,EAAE;QACrE,cAAc,CAAC,IAAI,EAAE,IAAI,IAAI,IAAI,CAAC,CAAC;IACvC,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,GAAG,CAAC;AACf,CAAC","sourcesContent":["import * as React from 'react';\n\nimport type {UseFormResetHandlerParams} from './types';\n\nexport function useFormResetHandler<T>({\n    initialValue,\n    onReset,\n}: {\n    initialValue: T;\n    onReset: (value: T) => void;\n}) {\n    const [formElement, setFormElement] = React.useState<HTMLFormElement | null>(null);\n\n    const resetValue = React.useRef(initialValue);\n\n    React.useEffect(() => {\n        if (!formElement) {\n            return undefined;\n        }\n\n        const handleReset = () => {\n            onReset(resetValue.current);\n        };\n\n        formElement.addEventListener('reset', handleReset);\n        return () => {\n            formElement.removeEventListener('reset', handleReset);\n        };\n    }, [formElement, onReset]);\n\n    const ref = React.useCallback((node: UseFormResetHandlerParams | null) => {\n        setFormElement(node?.form ?? null);\n    }, []);\n\n    return ref;\n}\n"]}